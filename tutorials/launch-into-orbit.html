<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The First Launch &mdash; kRPC.MechJeb 0.7.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Advanced Launch into Orbit" href="advanced-launch.html" />
    <link rel="prev" title="Tutorials and Examples" href="../tutorials.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            kRPC.MechJeb
          </a>
              <div class="version">
                0.7.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorials.html">Tutorials and Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">The First Launch</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced-launch.html">Advanced Launch into Orbit</a></li>
<li class="toctree-l2"><a class="reference internal" href="rendezvous.html">Rendezvous with a Target</a></li>
<li class="toctree-l2"><a class="reference internal" href="docking.html">Docking with a Target</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../third-party-scripts.html">Third-party Scripts</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Genhis/KRPC.MechJeb/blob/master/.github/CONTRIBUTING.md">Contributing</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Genhis/KRPC.MechJeb/issues/">Report a Bug</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Client Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cnano/index.html">C-nano</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csharp/index.html">C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp/index.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../java/index.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lua/index.html">Lua</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">External Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://krpc.github.io/krpc/">kRPC Documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/MuMech/MechJeb2/wiki">MechJeb2 Wiki</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">kRPC.MechJeb</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../tutorials.html">Tutorials and Examples</a></li>
      <li class="breadcrumb-item active">The First Launch</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorials/launch-into-orbit.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-first-launch">
<span id="tutorials-launch-into-orbit"></span><h1>The First Launch<a class="headerlink" href="#the-first-launch" title="Permalink to this heading"></a></h1>
<p>This tutorial launches any rocket into a 100km circular orbit with 6° inclination.</p>
<p>The complete program is available in a variety of languages:</p>
<p><a class="reference download internal" download="" href="../_downloads/0712362fa89d8063fd109bdbeba558db/LaunchIntoOrbit.java"><code class="xref download docutils literal notranslate"><span class="pre">Java</span></code></a>,
<a class="reference download internal" download="" href="../_downloads/85dea77f6847256a095ae4e14fdcb13d/LaunchIntoOrbit.py"><code class="xref download docutils literal notranslate"><span class="pre">Python</span></code></a></p>
<p>We start with connecting to the server, getting <code class="docutils literal notranslate"><span class="pre">AscentAutopilot</span></code> module and setting launch parameters. Parameters which are omitted will be the same as in <em>Ascent Guidance</em> window.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-SmF2YQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-SmF2YQ==" name="SmF2YQ==" role="tab" tabindex="0">Java</button><button aria-controls="panel-0-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-0-SmF2YQ==" class="sphinx-tabs-panel group-tab" id="panel-0-SmF2YQ==" name="SmF2YQ==" role="tabpanel" tabindex="0"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="linenos">12</span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">RPCException</span><span class="p">,</span><span class="w"> </span><span class="n">StreamException</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13</span><span class="w">        </span><span class="k">try</span><span class="p">(</span><span class="n">Connection</span><span class="w"> </span><span class="n">conn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Connection</span><span class="p">.</span><span class="na">newInstance</span><span class="p">(</span><span class="s">&quot;Launch into orbit&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14</span><span class="w">            </span><span class="n">SpaceCenter</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SpaceCenter</span><span class="p">.</span><span class="na">newInstance</span><span class="p">(</span><span class="n">conn</span><span class="p">);</span>
<span class="linenos">15</span><span class="w">            </span><span class="n">MechJeb</span><span class="w"> </span><span class="n">mj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MechJeb</span><span class="p">.</span><span class="na">newInstance</span><span class="p">(</span><span class="n">conn</span><span class="p">);</span>
<span class="linenos">16</span><span class="w">            </span><span class="n">AscentAutopilot</span><span class="w"> </span><span class="n">ascent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mj</span><span class="p">.</span><span class="na">getAscentAutopilot</span><span class="p">();</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="w">            </span><span class="c1">//All of these options will be filled directly into AscentGuidance window and can be modified manually during flight.</span>
<span class="linenos">19</span><span class="w">            </span><span class="n">ascent</span><span class="p">.</span><span class="na">setDesiredOrbitAltitude</span><span class="p">(</span><span class="mi">100000</span><span class="p">);</span>
<span class="linenos">20</span><span class="w">            </span><span class="n">ascent</span><span class="p">.</span><span class="na">setDesiredInclination</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">            </span><span class="n">ascent</span><span class="p">.</span><span class="na">setForceRoll</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="linenos">23</span><span class="w">            </span><span class="n">ascent</span><span class="p">.</span><span class="na">setVerticalRoll</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
<span class="linenos">24</span><span class="w">            </span><span class="n">ascent</span><span class="p">.</span><span class="na">setTurnRoll</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="w">            </span><span class="n">ascent</span><span class="p">.</span><span class="na">setAutostage</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="linenos">27</span><span class="w">            </span><span class="n">ascent</span><span class="p">.</span><span class="na">setEnabled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">krpc</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">conn</span> <span class="o">=</span> <span class="n">krpc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Launch into orbit&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">sc</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">space_center</span>
<span class="linenos"> 6</span><span class="n">mj</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">mech_jeb</span>
<span class="linenos"> 7</span><span class="n">ascent</span> <span class="o">=</span> <span class="n">mj</span><span class="o">.</span><span class="n">ascent_autopilot</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="c1">#All of these options will be filled directly into Ascent Guidance window and can be modified manually during flight.</span>
<span class="linenos">10</span><span class="n">ascent</span><span class="o">.</span><span class="n">desired_orbit_altitude</span> <span class="o">=</span> <span class="mi">100000</span>
<span class="linenos">11</span><span class="n">ascent</span><span class="o">.</span><span class="n">desired_inclination</span> <span class="o">=</span> <span class="mi">6</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="n">ascent</span><span class="o">.</span><span class="n">force_roll</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">14</span><span class="n">ascent</span><span class="o">.</span><span class="n">vertical_roll</span> <span class="o">=</span> <span class="mi">90</span>
<span class="linenos">15</span><span class="n">ascent</span><span class="o">.</span><span class="n">turn_roll</span> <span class="o">=</span> <span class="mi">90</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="n">ascent</span><span class="o">.</span><span class="n">autostage</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div></div>
<p>Next, we engage the autopilot and activate the first stage. After that, the autopilot takes over control of the vessel.
The program uses streams to check if the autopilot is still running. When the autopilot stops, the program continues. You can learn more about streams in kRPC documentation for your language:
<a class="reference external" href="https://krpc.github.io/krpc/csharp/client.html#synchronizing-with-stream-updates">C#</a>,
<a class="reference external" href="https://krpc.github.io/krpc/cpp/client.html#synchronizing-with-stream-updates">C++</a>,
<a class="reference external" href="https://krpc.github.io/krpc/java/client.html#synchronizing-with-stream-updates">Java</a>,
<a class="reference external" href="https://krpc.github.io/krpc/lua/client.html#synchronizing-with-stream-updates">Lua</a>,
<a class="reference external" href="https://krpc.github.io/krpc/python/client.html#synchronizing-with-stream-updates">Python</a>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-SmF2YQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-SmF2YQ==" name="SmF2YQ==" role="tab" tabindex="0">Java</button><button aria-controls="panel-1-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-1-SmF2YQ==" class="sphinx-tabs-panel group-tab" id="panel-1-SmF2YQ==" name="SmF2YQ==" role="tabpanel" tabindex="0"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="linenos">28</span><span class="w">            </span><span class="n">sc</span><span class="p">.</span><span class="na">getActiveVessel</span><span class="p">().</span><span class="na">getControl</span><span class="p">().</span><span class="na">activateNextStage</span><span class="p">();</span><span class="w"> </span><span class="c1">//launch the vessel</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="w">            </span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">addStream</span><span class="p">(</span><span class="n">ascent</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;getEnabled&quot;</span><span class="p">);</span>
<span class="linenos">31</span><span class="w">            </span><span class="n">enabled</span><span class="p">.</span><span class="na">setRate</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">//we don&#39;t need a high throughput rate, 1 second is more than enough</span>
<span class="linenos">32</span><span class="w">            </span><span class="kd">synchronized</span><span class="p">(</span><span class="n">enabled</span><span class="p">.</span><span class="na">getCondition</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">33</span><span class="w">                </span><span class="k">while</span><span class="p">(</span><span class="n">enabled</span><span class="p">.</span><span class="na">get</span><span class="p">())</span>
<span class="linenos">34</span><span class="w">                    </span><span class="n">enabled</span><span class="p">.</span><span class="na">waitForUpdate</span><span class="p">();</span>
<span class="linenos">35</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">36</span><span class="w">            </span><span class="n">enabled</span><span class="p">.</span><span class="na">remove</span><span class="p">();</span>
<span class="linenos">37</span>
<span class="linenos">38</span><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Launch complete!&quot;</span><span class="p">);</span>
<span class="linenos">39</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">40</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">41</span><span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">18</span><span class="n">ascent</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">19</span><span class="n">sc</span><span class="o">.</span><span class="n">active_vessel</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">activate_next_stage</span><span class="p">()</span> <span class="c1">#launch the vessel</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="nb">getattr</span><span class="p">,</span> <span class="n">ascent</span><span class="p">,</span> <span class="s2">&quot;enabled&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">enabled</span><span class="p">:</span>
<span class="linenos">22</span>    <span class="n">enabled</span><span class="o">.</span><span class="n">rate</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#we don&#39;t need a high throughput rate, 1 second is more than enough</span>
<span class="linenos">23</span>    <span class="k">with</span> <span class="n">enabled</span><span class="o">.</span><span class="n">condition</span><span class="p">:</span>
<span class="linenos">24</span>        <span class="k">while</span> <span class="n">enabled</span><span class="p">():</span>
<span class="linenos">25</span>            <span class="n">enabled</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Launch complete!&quot;</span><span class="p">)</span>
<span class="linenos">28</span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>The rocket should now be in a circular 100km orbit with 6° inclination.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../tutorials.html" class="btn btn-neutral float-left" title="Tutorials and Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="advanced-launch.html" class="btn btn-neutral float-right" title="Advanced Launch into Orbit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2023, Genhis.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>